<?xml version="1.0"?>
<info xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	  xsi:noNamespaceSchemaLocation="https://apps.nextcloud.com/schema/apps/info.xsd">
	<id>threedviewer</id>
	<name>3D Viewer</name>
	<summary>View, analyze &amp; export 3D models with 10+ formats, auto-thumbnails, personal settings, annotations, measurements &amp; rendering</summary>
	<description><![CDATA[A comprehensive 3D model viewer that allows you to view, interact with, and analyze 3D models directly within Nextcloud. Supports 10+ formats including GLB, GLTF, OBJ, STL, PLY, FBX, 3MF, and 3DS with full material and texture support.

**ðŸ“¦ Format Support:**
- ðŸŽ¨ Multi-format support: GLB, GLTF, OBJ+MTL, STL, PLY, FBX, 3MF, 3DS, DAE, X3D, VRML
- ðŸš€ Enhanced loaders: Significantly improved FBX, VRML, and DAE loaders with better material and texture support
- ðŸ“ Multi-file models: Full support for OBJ+MTL+textures and GLTF+bins+images
- ðŸ—œï¸ Compression: DRACO geometry and KTX2/Basis texture compression (needs more work)
- ðŸ”§ Centralized format definitions: Single source of truth for all format definitions ensuring consistency
- âœ… Format sync validation: Automated tests ensure format consistency across backend, frontend, and MIME registration
- ðŸ“¦ Bundle budget enforcement: Automated bundle size checking with historical tracking and CI integration
 - ðŸ› ï¸ G-code toolpaths: Support for `.gcode`, `.gco`, `.nc`, `.acode` with 3D toolpath visualization (smooth rainbow gradient coloring, travel/retraction filtering, automatic layer detection)
 - ðŸ§© Extended G-code ecosystem: Recognizes additional variants `.g`, `.gx` (FlashForge), `.g3drem` (Dremel), `.makerbot`, `.thing` with proper MIME mappings

**ðŸŽ® Interactive Features:**
- ðŸŽ¯ 3D Camera Controller: Enhanced intuitive circular controller for precise camera navigation with improved controls
- ðŸ”„ Model comparison: Side-by-side viewing with synchronized controls
- ðŸ“ Annotations: Add notes and markers to specific points on models (always readable, faces camera) with customizable visual sizing controls
- ðŸ“ Measurements: Distance and angle measurement tools (with billboard text) with per-user sizing controls for point size, line thickness, and label width
- ðŸŽ¬ Animation Controls: Play/pause controls for animated models with loop toggle support
- ðŸ§­ Face labels: Orientation markers (TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT)
- ðŸ‘ï¸ Camera projection toggle: Switch between perspective and orthographic views
- âš™ï¸ Personal Settings: User-specific preferences and settings page in Nextcloud personal settings

**ðŸ“‚ File Browser:**
- ðŸ—‚ï¸ Smart navigation: Toggle between Viewer, Folders, Type, Date, and Favorites modes
- ðŸ“‹ List and Grid views: Switch between compact list view and grid view with customizable default preference
- âš™ï¸ Default view setting: Set your preferred view mode (Grid/List) in Personal Settings
- âŒ¨ï¸ Keyboard navigation: Full keyboard support for list view (Arrow keys, Home, End, Enter, Space)
- ðŸž Breadcrumb navigation: Easy navigation back through folder/type/date hierarchies
- ðŸ”„ Lazy loading: Fast navigation with on-demand data loading

**âš¡ Export & Tools:**
- ðŸ“· Screenshot capture: Take high-quality PNG/JPEG screenshots of your models
- ðŸ’¾ Export models to GLB, STL, and OBJ formats
- ðŸ–¨ï¸ Slicer integration: Send models directly to PrusaSlicer, Cura, BambuStudio, OrcaSlicer, Simplify3D, Eufy Studio, and AnycubicSlicer with enhanced security (file size limits, MIME validation, rolling expiration)
- ðŸ“Š Model statistics panel with detailed information
- ðŸ”² Wireframe and bounding box visualization
- ðŸ“ Dynamic grid system that adapts to model size and position
- â“ Help panel with comprehensive in-app documentation

**ðŸš€ Performance & UX:**
- ðŸ–¼ï¸ Automatic thumbnails: Smart thumbnail generation with content-aware cropping (configurable in settings)
- ðŸ–¼ï¸ Progressive texture loading for improved performance
- ðŸ’¿ Dependency caching using IndexedDB for faster multi-file loading with live cache statistics (size, entries, hit rate)
- âš™ï¸ Performance modes with visual quality overlay and automatic suggestions for large models
- ðŸ“Š Performance scaling: Automatic performance mode suggestions based on model complexity (triangle count thresholds)
- ðŸ“¦ Code splitting and dynamic imports
 - ðŸ“± Mobile-optimized UI: Responsive toolbar (icons-only on small screens), full-screen help panel with sticky header, and performance stats hidden by default on mobile (â‰¤768px)
- ðŸŒ“ Light and dark theme support with RTL layout
- ðŸ”— Works with public shares and authenticated users
- â™¿ Accessibility features with keyboard navigation and ARIA labels

Built with Three.js for high-performance WebGL rendering. âœ¨]]></description>
	<version>2.3.4</version>
	<licence>agpl</licence>
	<author mail="maz1987in@gmail.com" homepage="https://github.com/maz1987in">Mazin Al Saadi</author>
	<donation title="Donate to the developers with PayPal" type="paypal">https://www.paypal.com/ncp/payment/KZCB3XTCHGKZC</donation>
	<namespace>ThreeDViewer</namespace>
	<category>multimedia</category>
	<website>https://github.com/maz1987in/3Dviewer-Nextcloud</website>
	<bugs>https://github.com/maz1987in/3Dviewer-Nextcloud/issues</bugs>
	<screenshot>https://raw.githubusercontent.com/maz1987in/3Dviewer-Nextcloud/main/img/screenshots/01-main-viewer.png</screenshot>
	<screenshot>https://raw.githubusercontent.com/maz1987in/3Dviewer-Nextcloud/main/img/screenshots/02-files-integration.png</screenshot>
	<screenshot>https://raw.githubusercontent.com/maz1987in/3Dviewer-Nextcloud/main/img/screenshots/03-toolbar-features.png</screenshot>
	<screenshot>https://raw.githubusercontent.com/maz1987in/3Dviewer-Nextcloud/main/img/screenshots/04-multi-file-support.png</screenshot>
	<screenshot>https://raw.githubusercontent.com/maz1987in/3Dviewer-Nextcloud/main/img/screenshots/05-dark-theme.png</screenshot>
	<settings>
		<personal>OCA\ThreeDViewer\Settings\Personal</personal>
		<personal-section>OCA\ThreeDViewer\Settings\Section</personal-section>
	</settings>
	<dependencies>
		<nextcloud min-version="30" max-version="32"/>
	</dependencies>
	<navigations>
		<navigation>
			<name>3D Viewer</name>
			<route>threedviewer.page.index</route>
			<icon>app.svg</icon>
		</navigation>
	</navigations>
	<routes>
		<!-- Asset routes are handled via FrontpageRoute attributes in AssetController -->
		<!-- They are accessible at /apps/threedviewer/asset/{type}/... paths -->
		<route name="threedviewer.file.serve" url="/file/{fileId}" verb="GET" controller="FileController" action="serveFile">
			<param name="fileId" default="" />
		</route>
		<route name="threedviewer.files.list" url="/api/files/list" verb="GET" controller="FileController" action="listFiles" />
		<route name="threedviewer.page.viewer" url="/f/{fileId}" verb="GET" controller="PageController" action="viewer" />
		<route name="threedviewer.slicer.test" url="/api/slicer/test" verb="GET" controller="SlicerController" action="test" />
		<route name="threedviewer.slicer.saveTempFile" url="/api/slicer/temp" verb="POST" controller="SlicerController" action="saveTempFile" />
		<route name="threedviewer.slicer.getTempFile" url="/api/slicer/temp/{fileId}" verb="GET" controller="SlicerController" action="getTempFile">
			<param name="fileId" default="" />
		</route>
		<route name="threedviewer.slicer.deleteTempFile" url="/api/slicer/temp/{fileId}" verb="DELETE" controller="SlicerController" action="deleteTempFile">
			<param name="fileId" default="" />
		</route>
	</routes>
	<repair-steps>
		<install>
			<!-- Register 3D model MIME types in database and create config files -->
			<step>OCA\ThreeDViewer\Repair\RegisterThreeDMimeTypes</step>
		</install>
		<uninstall>
			<!-- Unregister 3D model MIME types and clean up config files -->
			<step>OCA\ThreeDViewer\Repair\UnregisterThreeDMimeTypes</step>
		</uninstall>
	</repair-steps>
	<!-- Declare custom MIME type mapping file -->
	<types>
		<type>model</type>
	</types>
	<background-jobs>
		<job>OCA\ThreeDViewer\Cron\CleanupTempFiles</job>
	</background-jobs>
	<commands>
		<command>OCA\ThreeDViewer\Command\IndexFiles</command>
	</commands>
</info>
